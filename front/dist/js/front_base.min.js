function FrontBase(){}function Auth(){var t=this;t.maskWrapper=$(".mask-wrapper"),t.scrollWrapper=$(".scroll-wrapper"),t.emailCaptchaBtn=$(".email-capture-btn")}FrontBase.prototype.run=function(){this.listenAuthBoxHover()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),e=$(".user-more-box");t.hover(function(){e.show()},function(){e.hide()})},Auth.prototype.run=function(){var t=this;t.listenClick(),t.listenSwitch(),t.listenSigninEvent(),t.listenImgCaptchaEvent(),t.listenCodeCaptchaEvent(),t.listenSignupEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.listenClick=function(){var t=this,e=$(".signin-btn"),n=$(".signup-btn"),a=$("#close-btn");e.click(function(){t.showEvent(),t.scrollWrapper.css({left:0})}),n.click(function(){t.showEvent(),t.scrollWrapper.css({left:-400})}),a.click(function(){t.hideEvent()})},Auth.prototype.listenSwitch=function(){var e=this;$(".switch").click(function(){var t=e.scrollWrapper.css("left");(t=parseInt(t))<0?e.scrollWrapper.animate({left:"0"}):e.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenSigninEvent=function(){var a=this,t=$(".signin-group"),i=t.find("input[name='email']"),o=t.find("input[name='password']"),r=t.find("input[name='remember']");t.find(".submit-btn").click(function(){var t=i.val(),e=o.val(),n=r.prop("checked");stajax.post({url:"/account/login/",data:{email:t,password:e,remember:n?1:0},success:function(t){200===t.code&&(a.hideEvent(),window.location.reload())}})})},Auth.prototype.listenSignupEvent=function(){var m=this,f=$(".signup-group");f.find(".submit-btn").click(function(t){t.preventDefault();var e=f.find("input[name='email']"),n=f.find("input[name='username']"),a=f.find("input[name='password1']"),i=f.find("input[name='password2']"),o=f.find("input[name='img_capture']"),r=f.find("input[name='email_capture']"),s=e.val(),c=n.val(),u=a.val(),p=i.val(),l=o.val(),h=r.val();stajax.post({url:"/account/register/",data:{email:s,username:c,password1:u,password2:p,img_captcha:l,email_captcha:h},success:function(t){200===t.code&&(m.hideEvent(),window.location.reload())}})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$("#img_captcha");t.click(function(){t.attr("src","/account/img_captcha/?random="+Math.random())})},Auth.prototype.emailSuccessEvent=function(){var t=this;window.messageBox.showSuccess("Your verification code has been sent."),t.emailCaptchaBtn.addClass("disabled");var e=60;t.emailCaptchaBtn.unbind("click"),timer=setInterval(function(){t.emailCaptchaBtn.text(e+"s"),--e<=0&&(clearInterval(timer),t.emailCaptchaBtn.removeClass("disabled"),t.emailCaptchaBtn.text("Get Code"),t.listenCodeCaptchaEvent())},1e3)},Auth.prototype.listenCodeCaptchaEvent=function(){var e=this,n=$(".signup-group input[name='email']");e.emailCaptchaBtn.click(function(){var t=n.val();t?stajax.get({url:"/account/email_captcha/",data:{email:t},success:function(t){e.emailSuccessEvent()}}):window.messageBox.showError("Please enter your email.")})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()}),$(function(){window.template&&(template.defaults.imports.timeSince=function(t){var e=new Date(t).getTime(),n=((new Date).getTime()-e)/1e3;if(n<60)return"just now";if(60<=n&&n<3600)return minutes=parseInt(n/60),minutes+"minutes ago";if(3600<=n&&n<86400)return hours=parseInt(n/60/60),hours+"hours ago";if(86400<=n&&n<2592e3)return days=parseInt(n/60/60/24),days+"days ago";var a=t.getFullYear();return t.getMonth()+"/"+t.getDate()+"/"+a+" "+t.getHours()+":"+t.getMinutes()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJvbnRfYmFzZS5taW4uanMiLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRm9yIG5hdiBiYXIgYWN0aW9ucy5cclxuZnVuY3Rpb24gRnJvbnRCYXNlKCl7XHJcbiAgICBcclxufTtcclxuXHJcbkZyb250QmFzZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuQXV0aEJveEhvdmVyKCk7XHJcbn07XHJcblxyXG5Gcm9udEJhc2UucHJvdG90eXBlLmxpc3RlbkF1dGhCb3hIb3ZlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYXV0aEJveCA9ICQoXCIuYXV0aC1ib3hcIik7XHJcbiAgICB2YXIgdXNlck1vcmVCb3ggPSAkKFwiLnVzZXItbW9yZS1ib3hcIik7XHJcblxyXG4gICAgYXV0aEJveC5ob3ZlcihmdW5jdGlvbigpe1xyXG4gICAgICAgIHVzZXJNb3JlQm94LnNob3coKTtcclxuICAgIH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdXNlck1vcmVCb3guaGlkZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vL0ZvciBTaWduaW4gYW5kIHJlZ2lzdGVyIGFjdGlvbnMuXHJcbmZ1bmN0aW9uIEF1dGgoKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIgPSAkKFwiLm1hc2std3JhcHBlclwiKTtcclxuICAgIHNlbGYuc2Nyb2xsV3JhcHBlciA9ICQoJy5zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgc2VsZi5lbWFpbENhcHRjaGFCdG4gPSAkKFwiLmVtYWlsLWNhcHR1cmUtYnRuXCIpO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuQ2xpY2soKTtcclxuICAgIHNlbGYubGlzdGVuU3dpdGNoKCk7XHJcbiAgICBzZWxmLmxpc3RlblNpZ25pbkV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkltZ0NhcHRjaGFFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5Db2RlQ2FwdGNoYUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblNpZ251cEV2ZW50KCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5zaG93RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlci5zaG93KCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5oaWRlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlci5oaWRlKCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5DbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2lnbmluQnRuID0gJCgnLnNpZ25pbi1idG4nKTtcclxuICAgIHZhciBzaWdudXBCdG4gPSAkKCcuc2lnbnVwLWJ0bicpO1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnI2Nsb3NlLWJ0bicpO1xyXG5cclxuICAgIHNpZ25pbkJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYuc2hvd0V2ZW50KCk7XHJcbiAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmNzcyh7XCJsZWZ0XCI6MH0pO1xyXG4gICAgIH0pO1xyXG5cclxuICAgIHNpZ251cEJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNlbGYuc2hvd0V2ZW50KCk7XHJcbiAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmNzcyh7XCJsZWZ0XCI6LTQwMH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5Td2l0Y2ggPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHN3aXRjaGVyID0gJChcIi5zd2l0Y2hcIik7XHJcbiAgICBzd2l0Y2hlci5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBjdXJyZW50TGVmdCA9IHNlbGYuc2Nyb2xsV3JhcHBlci5jc3MoXCJsZWZ0XCIpO1xyXG4gICAgICAgIGN1cnJlbnRMZWZ0ID0gcGFyc2VJbnQoY3VycmVudExlZnQpO1xyXG4gICAgICAgIGlmIChjdXJyZW50TGVmdCA8IDApe1xyXG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6IFwiMFwifSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5hbmltYXRlKHtcImxlZnRcIjogXCItNDAwcHhcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU2lnbmluRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHNpZ25pbkdyb3VwID0gJChcIi5zaWduaW4tZ3JvdXBcIik7XHJcbiAgICB2YXIgZW1haWxJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdlbWFpbCddXCIpO1xyXG4gICAgdmFyIHBhc3N3b3JkSW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKTtcclxuICAgIHZhciByZW1lbWJlcklucHV0ID0gc2lnbmluR3JvdXAuZmluZChcImlucHV0W25hbWU9J3JlbWVtYmVyJ11cIik7XHJcblxyXG4gICAgdmFyIHN1Ym1pdEJ0biA9IHNpZ25pbkdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKTtcclxuXHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZW1haWwgPSBlbWFpbElucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZCA9IHBhc3N3b3JkSW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIHJlbWVtYmVyID0gcmVtZW1iZXJJbnB1dC5wcm9wKFwiY2hlY2tlZFwiKTtcclxuICAgICAgICBcclxuICAgICAgICBzdGFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOlwiL2FjY291bnQvbG9naW4vXCIsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAnZW1haWwnOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzogcmVtZW1iZXI/MTowLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuU2lnbnVwRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHNpZ251cEdyb3VwID0gJChcIi5zaWdudXAtZ3JvdXBcIik7XHJcbiAgICB2YXIgc2lnbnVwQnRuID0gc2lnbnVwR3JvdXAuZmluZChcIi5zdWJtaXQtYnRuXCIpO1xyXG5cclxuICAgIHNpZ251cEJ0bi5jbGljayhmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgZW1haWxJbnB1dCA9IHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdlbWFpbCddXCIpO1xyXG4gICAgICAgIHZhciB1c2VybmFtZUlucHV0ID0gc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3VzZXJuYW1lJ11cIik7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkMUlucHV0ID0gc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkMSddXCIpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZDJJbnB1dCA9IHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZDInXVwiKTtcclxuICAgICAgICB2YXIgaW1nQ2FwdGNoYUlucHV0ID0gc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J2ltZ19jYXB0dXJlJ11cIik7XHJcbiAgICAgICAgdmFyIGVtYWlsQ2FwdGNoYUlucHV0ID0gc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J2VtYWlsX2NhcHR1cmUnXVwiKTtcclxuICAgICAgICB2YXIgZW1haWwgPSBlbWFpbElucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHVzZXJuYW1lSW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkMSA9IHBhc3N3b3JkMUlucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZDIgPSBwYXNzd29yZDJJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgaW1nQ2FwdGNoYSA9IGltZ0NhcHRjaGFJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgZW1haWxDYXB0Y2hhID0gZW1haWxDYXB0Y2hhSW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgIHN0YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvYWNjb3VudC9yZWdpc3Rlci8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdlbWFpbCc6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQxJzogcGFzc3dvcmQxLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkMic6IHBhc3N3b3JkMixcclxuICAgICAgICAgICAgICAgICdpbWdfY2FwdGNoYSc6IGltZ0NhcHRjaGEsXHJcbiAgICAgICAgICAgICAgICAnZW1haWxfY2FwdGNoYSc6IGVtYWlsQ2FwdGNoYSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuSW1nQ2FwdGNoYUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBpbWdDYXB0Y2hhID0gJChcIiNpbWdfY2FwdGNoYVwiKTtcclxuICAgIFxyXG4gICAgaW1nQ2FwdGNoYS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIGltZ0NhcHRjaGEuYXR0cihcInNyY1wiLCBcIi9hY2NvdW50L2ltZ19jYXB0Y2hhL1wiK1wiP3JhbmRvbT1cIitNYXRoLnJhbmRvbSgpKVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5lbWFpbFN1Y2Nlc3NFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIllvdXIgdmVyaWZpY2F0aW9uIGNvZGUgaGFzIGJlZW4gc2VudC5cIik7XHJcbiAgICBzZWxmLmVtYWlsQ2FwdGNoYUJ0bi5hZGRDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gICAgdmFyIGNvdW50ID0gNjA7XHJcbiAgICBzZWxmLmVtYWlsQ2FwdGNoYUJ0bi51bmJpbmQoJ2NsaWNrJyk7XHJcbiAgICB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2VsZi5lbWFpbENhcHRjaGFCdG4udGV4dChjb3VudCsncycpO1xyXG4gICAgICAgIGNvdW50IC09IDE7XHJcbiAgICAgICAgaWYoY291bnQgPD0gMCl7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICBzZWxmLmVtYWlsQ2FwdGNoYUJ0bi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICBzZWxmLmVtYWlsQ2FwdGNoYUJ0bi50ZXh0KFwiR2V0IENvZGVcIik7XHJcbiAgICAgICAgICAgIHNlbGYubGlzdGVuQ29kZUNhcHRjaGFFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIDEwMDApO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUubGlzdGVuQ29kZUNhcHRjaGFFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZW1haWxTaWdudXBJbnB1dCA9ICQoXCIuc2lnbnVwLWdyb3VwIGlucHV0W25hbWU9J2VtYWlsJ11cIik7XHJcbiAgICBzZWxmLmVtYWlsQ2FwdGNoYUJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbWFpbCA9IGVtYWlsU2lnbnVwSW5wdXQudmFsKCk7XHJcbiAgICAgICAgaWYoZW1haWwpe1xyXG4gICAgICAgICAgICBzdGFqYXguZ2V0KHtcclxuICAgICAgICAgICAgICAgICd1cmwnOiAnL2FjY291bnQvZW1haWxfY2FwdGNoYS8nLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogZW1haWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW1haWxTdWNjZXNzRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbC5cIilcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYXV0aCA9IG5ldyBBdXRoKCk7XHJcbiAgICBhdXRoLnJ1bigpO1xyXG59KVxyXG5cclxuJChmdW5jdGlvbiAoKSB7IFxyXG4gICAgdmFyIGZyb250QmFzZSA9IG5ldyBGcm9udEJhc2UoKTtcclxuICAgIGZyb250QmFzZS5ydW4oKTtcclxufSk7XHJcblxyXG4vL2FydHRlbXBsYXRlIGNvbW1vbiBmaWx0ZXJzXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIGlmKHdpbmRvdy50ZW1wbGF0ZSl7XHJcbiAgICAgICAgLy9hcnR0ZW1wbGF0ZSBjdXN0b20gZmlsdGVyLy9cclxuICAgICAgICB0ZW1wbGF0ZS5kZWZhdWx0cy5pbXBvcnRzLnRpbWVTaW5jZSA9IGZ1bmN0aW9uKGRhdGVWYWx1ZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZVZhbHVlKTtcclxuICAgICAgICAgICAgdmFyIGRhdGV0cyA9IGRhdGUuZ2V0VGltZSgpOyAvL21pbGxpc2Vjb25kc1xyXG4gICAgICAgICAgICB2YXIgbm93dHMgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpOyAvL21pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICAgICAgdmFyIHRpbWVzdGFtcCA9IChub3d0cyAtIGRhdGV0cykvMTAwMDsgLy9zZWNvbmRzIGRpZmZcclxuICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCA8IDYwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnanVzdCBub3cnO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aW1lc3RhbXAgPj0gNjAgJiYgdGltZXN0YW1wIDwgNjAqNjApe1xyXG4gICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KHRpbWVzdGFtcC82MCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWludXRlcyArIFwibWludXRlcyBhZ29cIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHRpbWVzdGFtcCA+PSA2MCo2MCAmJiB0aW1lc3RhbXAgPCAyNCo2MCo2MCl7XHJcbiAgICAgICAgICAgICAgICBob3VycyA9IHBhcnNlSW50KHRpbWVzdGFtcC82MC82MClcclxuICAgICAgICAgICAgICAgIHJldHVybiBob3VycyArIFwiaG91cnMgYWdvXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZih0aW1lc3RhbXAgPj0gMjQqNjAqNjAgJiYgdGltZXN0YW1wIDwgMzAqMjQqNjAqNjApe1xyXG4gICAgICAgICAgICAgICAgZGF5cyA9IHBhcnNlSW50KHRpbWVzdGFtcC82MC82MC8yNClcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgXCJkYXlzIGFnb1wiO1xyXG4gICAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGRhdGVWYWx1ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZVZhbHVlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gZGF0ZVZhbHVlLmdldERhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBob3VyID0gZGF0ZVZhbHVlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlID0gZGF0ZVZhbHVlLmdldE1pbnV0ZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGggKyAnLycgKyBkYXkgKyAnLycgKyB5ZWFyICsgJyAnICsgaG91ciArICc6JyArIG1pbnV0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuIl0sIm5hbWVzIjpbIkZyb250QmFzZSIsIkF1dGgiLCJzZWxmIiwidGhpcyIsIm1hc2tXcmFwcGVyIiwiJCIsInNjcm9sbFdyYXBwZXIiLCJlbWFpbENhcHRjaGFCdG4iLCJwcm90b3R5cGUiLCJydW4iLCJsaXN0ZW5BdXRoQm94SG92ZXIiLCJhdXRoQm94IiwidXNlck1vcmVCb3giLCJob3ZlciIsInNob3ciLCJoaWRlIiwibGlzdGVuQ2xpY2siLCJsaXN0ZW5Td2l0Y2giLCJsaXN0ZW5TaWduaW5FdmVudCIsImxpc3RlbkltZ0NhcHRjaGFFdmVudCIsImxpc3RlbkNvZGVDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TaWdudXBFdmVudCIsInNob3dFdmVudCIsImhpZGVFdmVudCIsInNpZ25pbkJ0biIsInNpZ251cEJ0biIsImNsb3NlQnRuIiwiY2xpY2siLCJjc3MiLCJsZWZ0IiwiY3VycmVudExlZnQiLCJwYXJzZUludCIsImFuaW1hdGUiLCJzaWduaW5Hcm91cCIsImVtYWlsSW5wdXQiLCJmaW5kIiwicGFzc3dvcmRJbnB1dCIsInJlbWVtYmVySW5wdXQiLCJlbWFpbCIsInZhbCIsInBhc3N3b3JkIiwicmVtZW1iZXIiLCJwcm9wIiwic3RhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJzaWdudXBHcm91cCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ1c2VybmFtZUlucHV0IiwicGFzc3dvcmQxSW5wdXQiLCJwYXNzd29yZDJJbnB1dCIsImltZ0NhcHRjaGFJbnB1dCIsImVtYWlsQ2FwdGNoYUlucHV0IiwidXNlcm5hbWUiLCJwYXNzd29yZDEiLCJwYXNzd29yZDIiLCJpbWdDYXB0Y2hhIiwiZW1haWxDYXB0Y2hhIiwiaW1nX2NhcHRjaGEiLCJlbWFpbF9jYXB0Y2hhIiwiYXR0ciIsIk1hdGgiLCJyYW5kb20iLCJlbWFpbFN1Y2Nlc3NFdmVudCIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsImFkZENsYXNzIiwiY291bnQiLCJ1bmJpbmQiLCJ0aW1lciIsInNldEludGVydmFsIiwidGV4dCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVDbGFzcyIsImVtYWlsU2lnbnVwSW5wdXQiLCJnZXQiLCJzaG93RXJyb3IiLCJ0ZW1wbGF0ZSIsImRlZmF1bHRzIiwiaW1wb3J0cyIsInRpbWVTaW5jZSIsImRhdGVWYWx1ZSIsImRhdGV0cyIsIkRhdGUiLCJnZXRUaW1lIiwidGltZXN0YW1wIiwibWludXRlcyIsImhvdXJzIiwiZGF5cyIsInllYXIiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsYUFxQlQsU0FBU0MsT0FDTCxJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSxZQUFjQyxFQUFFLGlCQUNyQkgsRUFBS0ksY0FBZ0JELEVBQUUsbUJBQ3ZCSCxFQUFLSyxnQkFBa0JGLEVBQUUsc0JBckI3QkwsVUFBVVEsVUFBVUMsSUFBTSxXQUNYTixLQUNOTyxzQkFHVFYsVUFBVVEsVUFBVUUsbUJBQXFCLFdBQ3JDLElBQUlDLEVBQVVOLEVBQUUsYUFDWk8sRUFBY1AsRUFBRSxrQkFFcEJNLEVBQVFFLE1BQU0sV0FDVkQsRUFBWUUsUUFDYixXQUNDRixFQUFZRyxVQVlwQmQsS0FBS08sVUFBVUMsSUFBTSxXQUNqQixJQUFJUCxFQUFPQyxLQUNYRCxFQUFLYyxjQUNMZCxFQUFLZSxlQUNMZixFQUFLZ0Isb0JBQ0xoQixFQUFLaUIsd0JBQ0xqQixFQUFLa0IseUJBQ0xsQixFQUFLbUIscUJBR1RwQixLQUFLTyxVQUFVYyxVQUFZLFdBQ1puQixL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

function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),o=e.attr("data-video-url"),t=e.attr("data-cover-url");console.log("haha");var a=cyberplayer("playercontainer").setup({width:980,height:500,file:o,image:t,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"ade4f7defebf4cdb9c12a0d612d37917"});a.on("beforePlay",function(t){/m3u8/.test(t.file)&&stajax.get({url:"/course/course_token/",data:{video:o},success:function(e){var o;200===e.code?(console.log("haha"),o=e.data.token,a.setToken(t.file,o)):(window.messageBox.showInfo(e.message),a.stop())},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCl7XHJcblxyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNwYW5WaWRlbyA9ICQoJyN2aWRlby1pbmZvJyk7XHJcbiAgICB2YXIgdmlkZW9fdXJsID0gc3BhblZpZGVvLmF0dHIoJ2RhdGEtdmlkZW8tdXJsJyk7XHJcbiAgICB2YXIgY292ZXJfdXJsID0gc3BhblZpZGVvLmF0dHIoJ2RhdGEtY292ZXItdXJsJyk7XHJcbiAgICBjb25zb2xlLmxvZygnaGFoYScpXHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgIHdpZHRoOiA5ODAsXHJcbiAgICAgICAgaGVpZ2h0OiA1MDAsXHJcbiAgICAgICAgZmlsZTogdmlkZW9fdXJsLFxyXG4gICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICBhazogJ2FkZTRmN2RlZmViZjRjZGI5YzEyYTBkNjEyZDM3OTE3J1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2NvdXJzZS9jb3Vyc2VfdG9rZW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2hhaGEnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBjb3Vyc2VfZGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlX2RldGFpbC5ydW4oKTtcclxufSkiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInNwYW5WaWRlbyIsIiQiLCJ2aWRlb191cmwiLCJhdHRyIiwiY292ZXJfdXJsIiwiY29uc29sZSIsImxvZyIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInN0YWpheCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dJbmZvIiwic3RvcCIsImZhaWwiLCJlcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUlUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQVlDLEVBQUUsZUFDZEMsRUFBWUYsRUFBVUcsS0FBSyxrQkFDM0JDLEVBQVlKLEVBQVVHLEtBQUssa0JBQy9CRSxRQUFRQyxJQUFJLFFBQ1osSUFBSUMsRUFBU0MsWUFBWSxtQkFBbUJDLE1BQU0sQ0FDOUNDLE1BQU8sSUFDUEMsT0FBUSxJQUNSQyxLQUFNVixFQUNOVyxNQUFPVCxFQUNQVSxXQUFXLEVBQ1hDLFdBQVksVUFDWkMsUUFBUSxFQUNSQyxPQUFRLElBQ1JDLFVBQVUsRUFDVkMsY0FBYyxFQUNkQyxHQUFJLHFDQUdSYixFQUFPYyxHQUFHLGFBQWEsU0FBVUMsR0FDekIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbEJZLE9BQU9DLElBQUksQ0FDUEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTMUIsR0FFYjJCLFFBQVcsU0FBVUMsR0FDakIsSUFFUUMsRUFGYyxNQUFuQkQsRUFBYSxNQUNaekIsUUFBUUMsSUFBSSxRQUNSeUIsRUFBUUQsRUFBYSxLQUFTLE1BQ2xDdkIsRUFBT3lCLFNBQVNWLEVBQUVWLEtBQUttQixLQUV2QkUsT0FBT0MsV0FBV0MsU0FBU0wsRUFBZ0IsU0FDM0N2QixFQUFPNkIsU0FHZkMsS0FBUSxTQUFVQyxHQUNkakMsUUFBUUMsSUFBSWdDLFNBTTVCekMsYUFBYUMsVUFBVXlDLElBQU0sV0FDZEMsS0FDTnpDLGNBSVRFLEVBQUUsWUFDc0IsSUFBSUosY0FDVjBDIn0=
